{% extends "base.html" %}
{% block content %}
<h1>GÃ¶rselleri yÃ¼kle â†’ DOCX planÄ±nÄ± indir</h1>
<p class="muted">
  Ay ve aralÄ±ÄŸÄ± seÃ§; sistem <b>ayÄ±n 1â€™inden 29â€™una</b> kadar gÃ¼ncel takvimle tarihleri Ã¼retir,
  her sayfanÄ±n <b>Ã¼stÃ¼ne paylaÅŸÄ±m tarihi</b> yazÄ±lÄ±r. Her kullanÄ±cÄ± sadece kendi dashboardâ€™unu gÃ¶rÃ¼r.
</p>

<form id="planForm" action="/generate" method="post" enctype="multipart/form-data" class="card">
  <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

  <div class="grid2">
    <div class="field">
      <label>Plan AyÄ±</label>
      <input type="month" name="plan_month" id="plan_month" required value="{{ default_month }}">
    </div>
    <div class="field">
      <label>KaÃ§ gÃ¼nde bir?</label>
      <input type="number" name="interval_days" id="interval_days" min="1" value="1" required>
    </div>
  </div>

  <div class="field">
    <label>Proje/Otel etiketi</label>
    <input type="text" name="project_tag" id="project_tag" placeholder="Ã–rn: MartÄ±_Prime_Ekim">
    <small class="muted">Caption cache bu etiketle izole edilir; dashboardâ€™da gÃ¶rÃ¼nÃ¼r.</small>
  </div>

  <div class="field">
    <label>DokÃ¼man adÄ±</label>
    <input type="text" name="doc_name" id="doc_name" required
           value="Instagram_Plani_{% if suggested_name %}{{ suggested_name }}{% endif %}">
  </div>

  <div class="field">
    <label>Ä°letiÅŸim bilgisi</label>
    <input type="text" name="contact_info" id="contact_info" required
           value="ğŸ“ 0 (242) 000 00 00   ğŸŒ https://example.com">
  </div>

  <div class="field">
    <label>GÃ¶rseller (Ã§oklu seÃ§im, max 10)</label>

    <div id="dropzone" class="dropzone" tabindex="0">
      <div class="dz-inner">
        <div class="dz-icon">ğŸ–¼ï¸</div>
        <div class="dz-text">
          <b>GÃ¶rselleri sÃ¼rÃ¼kleyip bÄ±rak</b> veya
          <label for="fileInput" class="linklike">DosyalarÄ± SeÃ§</label>
        </div>
        <div class="dz-hint">PNG, JPG/JPEG, WebP. YÃ¼klemeden Ã¶nce 1280pxâ€™e sÄ±kÄ±ÅŸtÄ±rÄ±lÄ±r.</div>
      </div>
      <input id="fileInput" type="file" name="files" accept="image/*" multiple hidden>
    </div>

    <div class="dz-status">
      <span id="fileCount">0/10 gÃ¶rsel seÃ§ildi</span>
      <span id="totalSize" class="muted">Toplam: 0 MB</span>
    </div>

    <div id="scheduleInfo" class="muted" style="margin-top:6px;"></div>
    <div id="previewGrid" class="file-grid"></div>
    <div id="errorBox" class="alert hidden"></div>
  </div>

  <div class="form-actions">
    <button id="submitBtn" class="btn" type="submit" disabled>OluÅŸtur ve indir (.docx)</button>
    <button id="clearBtn" class="btn btn-secondary" type="button">Temizle</button>
  </div>
</form>

<!-- TÃ¼m JS dÄ±ÅŸ dosyada; CSP 'script-src self' -->
<script src="/static/app.js" defer></script>
{% endblock %}
